# 용어 검색 시스템

한국어 자연어로 질문하면 관련된 표준 용어를 찾아주는 AI 검색 시스템입니다.

## 한 줄 요약

"로그인할때 보안 어떻게 해?"라고 대충 물어보면 → "OAuth인증", "이중인증", "세션관리" 등 관련 표준 용어를 찾아서 이유와 함께 제공합니다.

## 빠른 시작

### 1. 설치
```bash
git clone https://github.com/LimPark996/term-search-system.git
cd term-search-system
pip install -r requirements.txt
```

### 2. 환경 설정
```bash
# .env 파일 생성
cp .env.example .env

# .env 파일 편집하여 API 키 입력
OPENAI_API_KEY=your_openai_api_key_here
SPREADSHEET_ID=your_spreadsheet_id_here
```

### 3. Google 인증 파일 설정
- Google Cloud Console에서 OAuth 인증 파일(`credentials.json`) 다운로드
- 프로젝트 루트 폴더에 저장

### 4. 실행
```bash
python main.py
```

## 사용 예시

```
=== 용어 검색 시스템 ===
자연어 질의를 입력하세요: 로그인할때 보안 어떻게 해?

🔍 처리 중: '로그인할때 보안 어떻게 해?'
🎯 정제된 검색어: 로그인 보안 인증 방법

🏆 최종 검색 결과 (3개):

1위. OAuth 인증
    설명: 웹 API에서 사용하는 개방형 표준 인증 프로토콜
    점수: 0.892 (의미: 0.834, 키워드: 0.967)
    AI 검색 근거: 로그인 보안을 위한 가장 일반적인 표준 인증 방법

2위. 이중인증
    설명: 두 가지 이상의 인증 방법을 조합하여 보안을 강화하는 기술
    점수: 0.845 (의미: 0.789, 키워드: 0.923)
    AI 검색 근거: 로그인 보안 강화를 위한 추가 인증 방법

3위. 세션관리
    설명: 사용자 로그인 상태를 유지하고 관리하는 기술
    점수: 0.821 (의미: 0.756, 키워드: 0.912)
    AI 검색 근거: 로그인 후 사용자 상태 관리를 위한 기본 기술
```

### 다양한 검색 패턴

```
검색어: "고객 정보 어디다 저장하지"
결과: 개인정보보호, 데이터암호화, 데이터베이스

검색어: "파일 올리는거"  
결과: 파일업로드, 첨부파일, 문서관리

검색어: "결제 관련된거"
결과: 결제시스템, 전자결제, 결제보안

검색어: "권한 체크하는거"
결과: 접근제어, 권한관리, 인가시스템
```

## 주요 특징

- **일상 언어로 검색**: "파일 올리는거", "로그인할때 쓰는 그거" 등 구어체로 검색 가능
- **오타도 OK**: 정확한 용어를 몰라도 비슷하게 입력하면 관련 표준 용어 찾아줌
- **3개 후보 제시**: 가능성 있는 용어 3개를 점수와 함께 제시
- **선택 근거 제공**: 왜 이 용어가 적합한지 AI가 설명해줌
- **기존 용어 재활용**: 새 용어 만들기 전에 이미 있는 표준 용어 확인 가능

## 시스템 요구사항

- Python 3.8 이상
- OpenAI API 키
- Google Sheets API 접근 권한
- 인터넷 연결 (초기 설정 및 첫 실행시)

## 데이터 소스

- **용어 데이터**: Google Sheets로 관리되는 표준 용어 사전
- **검색 엔진**: OpenAI 임베딩 기반 벡터 검색
- **AI 분석**: GPT 모델을 활용한 맥락적 용어 선별

## 문제 해결

### Google 인증 오류
```bash
# 토큰 재생성
rm token.json
python main.py
```

### 느린 첫 실행
- 첫 실행시 용어 데이터 처리로 3-5분 소요 (정상)
- 이후 실행은 캐시로 즉시 검색

### API 키 오류
- `.env` 파일의 `OPENAI_API_KEY` 확인
- API 키 유효성 및 잔액 확인

## 기술 스택

- **AI**: OpenAI GPT-4, 임베딩 API
- **검색**: FAISS 벡터 데이터베이스
- **언어 처리**: KoNLPy 한국어 형태소 분석
- **데이터**: Google Sheets API
- **언어**: Python 3.8+

## 라이센스

MIT License

## 기여하기

1. 이슈 등록 또는 기능 제안
2. Fork 후 브랜치 생성
3. 변경사항 커밋
4. Pull Request 생성

---

## 기술 상세 정보

### 시스템 아키텍처
4단계 파이프라인으로 구성:
1. **전처리**: 자연어 질의를 검색 쿼리로 변환
2. **하이브리드 검색**: 의미적 + 키워드 기반 후보 추출  
3. **AI 분석**: GPT를 활용한 맥락적 용어 선별
4. **결과 제공**: 검색 근거와 함께 최종 결과 제공

### 캐시 시스템
- `semantic_embeddings.npy`: 용어별 의미 벡터
- `token_metadata.pkl`: 토큰별 메타데이터
- `faiss_index.bin`: 벡터 검색 인덱스

### 향후 계획
현재 용어 검색을 기반으로 실시간 데이터베이스 쿼리 시스템으로 확장 예정:
- 자연어 질의 → 용어 매칭 → SQL 생성 → 데이터 조회